<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" href="/img/bottercype.png" />
		<title>Twitch Bot - Bottercype</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
			integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
			crossorigin="anonymous"
		/>

		<style>
			.header h1 {
				text-align: center;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			.button-table {
				margin-top: 20px;
				width: 100%;
			}
			.button-table td {
				width: 50%;
			}
			.button-table button {
				width: 100% !important;
			}

			#username {
				border: none;
				width: 100%;
				background: none;
				font-weight: 400;
				color: #ffffff;
			}

			#username:focus-within {
				border: none !important;
				width: 100%;
				background: none !important;
				color: #c9c9c9;
			}
			#username:focus-visible {
				outline: none !important;
			}

			#username-box {
				height: 40px;
				position: relative;
				flex: 1;
				flex-basis: 1e-9px;
				display: flexbox;
				display: flex;
				flex-direction: row;
				justify-content: center;
				width: 100%;
				padding: 0px 4px 0px 16px;
				margin-top: 8px;
				font-size: 17px;
				border: 1px solid hsl(0, 0%, 18.82%);
				background: #121212;
				color: #e2e2e2;
				border-radius: 40px;
			}

			#username-box:focus-within {
				border: 1px solid #1c62b9;
			}

			#username-clear {
				right: 40px;
				margin-top: 8px;
				margin-right: 12px;
				margin-left: 4px;
				padding-right: 8px;
				border: none;
				background: none;
				width: 20px;
				height: 20px;
				margin-left: 10px;
				display: none;
				background: linear-gradient(
						45deg,
						rgba(0, 0, 0, 0) 0%,
						rgba(0, 0, 0, 0) 47%,
						#c9c9c9 45%,
						#c9c9c9 55%,
						rgba(0, 0, 0, 0) 53%,
						rgba(0, 0, 0, 0) 100%
					),
					linear-gradient(135deg, transparent 0%, transparent 47%, #c9c9c9 45%, #c9c9c9 55%, transparent 53%, transparent 100%);
			}

			.button {
				float: right !important;
				display: block;
				width: auto !important;
				height: auto !important;
				background: #303134;
				padding: 10px 20px !important;
				text-align: center;
				border-radius: 10px;
				color: white;
				font-family: inherit !important;
				font-weight: bold !important;
				line-height: 25px;
				cursor: pointer;
			}

			#add {
				background: #88e147; /* hyper green :3 */
				color: #000000 !important;
				/* text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black; */
			}
			#remove {
				background: #d32d28;
			}
		</style>
	</head>
	<body>
		<div class="container my-5">
			<div class="header">
				<div>
					<h1><img src="/img/bottercype.png" alt="proto hypercype" /> <strong>Bottercype</strong></h1>
				</div>
			</div>
			<div>
				<div>Enter your twitch username to add Bottercype to manage your Twitch chat. Remember to add Bottercype as your moderator.</div>
				<form method="GET" action="/twitch-bot/bottercype" class="my-5">
					<div class="username-container">
						<div id="username-box">
							<input type="text" placeholder="Enter Twitch username" autocomplete="nope" id="username" name="username" />
							<button type="reset" id="username-clear"></button>
						</div>
					</div>

					<table class="button-table">
						<tr>
							<td><button class="button" id="add" type="submit">Add Bot</button></td>
							<td><button class="button" id="remove" type="submit">Remove Bot</button></td>
						</tr>
						<tr>
							<td><button class="button" id="test" type="submit">Test Bot</button></td>
							<td><button class="button" id="stop" type="submit">Stop Test</button></td>
						</tr>
					</table>
				</form>
			</div>
		</div>
		<link rel="stylesheet" href="/css/styles.css" />
		<script>
			// Show clear button when going back in page
			window.addEventListener('pageshow', () => {
				if (document.getElementById('username').value === '') {
					document.getElementById('username-clear').style.display = 'none';
				} else {
					document.getElementById('username-clear').style.display = 'inline-block';
				}
			});

			document.getElementById('username').addEventListener('input', (e) => {
				if (e.target.value === '') {
					document.getElementById('username-clear').style.display = 'none';
				} else {
					document.getElementById('username-clear').style.display = 'inline-block';
				}
			});

			document.getElementById('username-clear').addEventListener('click', (e) => {
				document.getElementById('username').value = '';
				document.getElementById('username-clear').style.display = 'none';
			});
		</script>
	</body>
</html>
